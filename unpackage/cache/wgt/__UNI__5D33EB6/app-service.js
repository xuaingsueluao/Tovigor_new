if("undefined"==typeof Promise||Promise.prototype.finally||(Promise.prototype.finally=function(e){const t=this.constructor;return this.then((a=>t.resolve(e()).then((()=>a))),(a=>t.resolve(e()).then((()=>{throw a}))))}),"undefined"!=typeof uni&&uni&&uni.requireGlobal){const e=uni.requireGlobal();ArrayBuffer=e.ArrayBuffer,Int8Array=e.Int8Array,Uint8Array=e.Uint8Array,Uint8ClampedArray=e.Uint8ClampedArray,Int16Array=e.Int16Array,Uint16Array=e.Uint16Array,Int32Array=e.Int32Array,Uint32Array=e.Uint32Array,Float32Array=e.Float32Array,Float64Array=e.Float64Array,BigInt64Array=e.BigInt64Array,BigUint64Array=e.BigUint64Array}uni.restoreGlobal&&uni.restoreGlobal(Vue,weex,plus,setTimeout,clearTimeout,setInterval,clearInterval),function(e){"use strict";const t=(e,t)=>{const a=e.__vccOpts||e;for(const[l,s]of t)a[l]=s;return a},a=t({__name:"idle",setup(t){const a=()=>{uni.reLaunch({url:"/pages/index/index"})};return(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"idle-page",onClick:a,onTouchstart:a},[e.createElementVNode("video",{class:"bg-video",src:"/static/icons/ads/idle.mp4",autoplay:"",loop:"",muted:"",controls:!1,"show-center-play-btn":!1,"show-fullscreen-btn":!1,"object-fit":"cover"})],32))}},[["__scopeId","data-v-b4447204"]]),l="/static/icons/general/btn_general_close.svg",s="/static/icons/smartAssessActivity/li-liang/btn_back.svg",i=t({__name:"modal-container",props:{visible:{type:Boolean,default:!1},position:{type:String,default:"center",validator:e=>["center","top","bottom"].includes(e)},animation:{type:String,default:"fade",validator:e=>["fade","slide","zoom"].includes(e)},closeOnClickOverlay:{type:Boolean,default:!0},width:{type:[String,Number],default:"600"},maxHeight:{type:[String,Number],default:""},borderRadius:{type:[String,Number],default:"24"},backgroundColor:{type:String,default:"#FFFFFF"},overlayOpacity:{type:Number,default:.5},zIndex:{type:Number,default:9999}},emits:["update:visible","open","close","overlay-click"],setup(t,{expose:a,emit:l}){e.useCssVars((e=>({"6b6e3286":t.overlayOpacity,"1fae1f3a":t.zIndex})));const s=t,i=l,c=e.computed((()=>{const e={width:"number"==typeof s.width?`${s.width}rpx`:s.width,backgroundColor:s.backgroundColor,borderRadius:"number"==typeof s.borderRadius?`${s.borderRadius}rpx`:s.borderRadius};return s.maxHeight&&(e.maxHeight="number"==typeof s.maxHeight?`${s.maxHeight}rpx`:s.maxHeight),e})),n=()=>{s.closeOnClickOverlay&&(i("overlay-click"),o())},o=()=>{i("update:visible",!1),i("close")};return a({close:o,open:()=>{i("update:visible",!0),i("open")}}),(a,l)=>t.visible?(e.openBlock(),e.createElementBlock("view",{key:0,class:e.normalizeClass(["modal-container-overlay",{"modal-container-fade-in":t.visible}]),onClick:n},[e.createElementVNode("view",{class:e.normalizeClass(["modal-container-box",[`position-${t.position}`,`animation-${t.animation}`,{"modal-container-show":t.visible}]]),style:e.normalizeStyle(c.value),onClick:l[0]||(l[0]=e.withModifiers((()=>{}),["stop"]))},[e.renderSlot(a.$slots,"header",{},void 0,!0),e.renderSlot(a.$slots,"default",{},void 0,!0),e.renderSlot(a.$slots,"footer",{},void 0,!0)],6)],2)):e.createCommentVNode("",!0)}},[["__scopeId","data-v-8ba8ae6f"]]),c=t({__name:"usage-guide-modal",props:{visible:{type:Boolean,default:!1},guideItems:{type:Array,default:()=>[{id:1,title:"如何调节力臂？- 演示视频",image:"/static/icons/homeActivity/ic_course_01.png",textLabel:"文字指导"},{id:2,title:"如何更换配件？- 演示视频",image:"/static/icons/homeActivity/ic_course_02.png",textLabel:"文字指导"}]}},emits:["update:visible","item-click","back","close"],setup(t,{expose:a,emit:c}){const n=c,o=e.ref("list"),r=e.ref({}),d=()=>{o.value="list",n("back")},m=()=>{o.value="list",n("update:visible",!1),n("close")};return a({showDetail:e=>{r.value=e,o.value="detail"},showList:()=>{o.value="list"}}),(a,c)=>(e.openBlock(),e.createBlock(i,{visible:t.visible,"onUpdate:visible":c[0]||(c[0]=e=>a.$emit("update:visible",e)),position:"center",animation:"fade","overlay-opacity":.5,width:690,"border-radius":32,"close-on-click-overlay":!1},{default:e.withCtx((()=>["list"===o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"guide-modal"},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("text",{class:"header-title"},"使用指南"),e.createElementVNode("view",{class:"close-btn",onClick:m},[e.createElementVNode("image",{class:"close-icon",src:l,mode:"aspectFit"})])]),e.createElementVNode("view",{class:"content-card"},[e.createElementVNode("view",{class:"welcome-section"},[e.createElementVNode("text",{class:"welcome-title"},"欢迎使用 tovigor 的 AI 智能健身镜"),e.createElementVNode("text",{class:"welcome-subtitle"},"请查收本产品的使用指南！")]),e.createElementVNode("view",{class:"divider"}),e.createElementVNode("view",{class:"guide-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.guideItems,((a,l)=>(e.openBlock(),e.createElementBlock("view",{key:l,class:e.normalizeClass(["guide-item",{"guide-item-border":l<t.guideItems.length-1}]),onClick:e=>(e=>{r.value=e,o.value="detail",n("item-click",e)})(a)},[e.createElementVNode("text",{class:"guide-item-text"},e.toDisplayString(a.title),1),e.createElementVNode("text",{class:"guide-item-arrow"},"›")],10,["onClick"])))),128))])])])):(e.openBlock(),e.createElementBlock("view",{key:1,class:"guide-detail"},[e.createElementVNode("view",{class:"detail-header"},[e.createElementVNode("view",{class:"back-btn",onClick:d},[e.createElementVNode("image",{class:"back-icon",src:s,mode:"aspectFit"})]),e.createElementVNode("text",{class:"header-title"},"使用指南"),e.createElementVNode("view",{class:"close-btn",onClick:m},[e.createElementVNode("image",{class:"close-icon",src:l,mode:"aspectFit"})])]),e.createElementVNode("view",{class:"detail-card"},[e.createElementVNode("text",{class:"detail-title"},e.toDisplayString(r.value.title),1),e.createElementVNode("view",{class:"image-container"},[e.createElementVNode("image",{class:"guide-image",src:r.value.image,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"text-label"},[e.createElementVNode("text",{class:"label-text"},e.toDisplayString(r.value.textLabel||"文字指导"),1)])])])]))])),_:1},8,["visible"]))}},[["__scopeId","data-v-11bfca16"]]),n=t({__name:"index",setup(t){const a=e.ref([{image:"/static/icons/partTrainingActivity/ic_1x.jpg",name:"肩部塑形训练",duration:"25min"},{image:"/static/icons/partTrainingActivity/ic_2x.jpg",name:"核心力量训练",duration:"30min"},{image:"/static/icons/partTrainingActivity/ic_4x.jpg",name:"有氧燃脂训练",duration:"20min"},{image:"/static/logo.png",name:"腿部训练课程",duration:"35min"},{image:"/static/logo.png",name:"背部强化训练",duration:"28min"}]),l=e.ref(0);let s=null;const i=e.ref(!1),n=e.ref([{id:1,title:"如何调节力臂？- 演示视频",image:"/static/icons/homeActivity/ic_course_01.png",textLabel:"文字指导"},{id:2,title:"如何更换配件？- 演示视频",image:"/static/icons/homeActivity/ic_course_02.png",textLabel:"文字指导"}]),o=()=>{i.value=!0},r=()=>{const{windowHeight:t}=uni.getSystemInfoSync(),a=e.getCurrentInstance();e.nextTick((()=>{uni.createSelectorQuery().in(a).select(".course-scroll").boundingClientRect((e=>{if(!e)return;const a=Math.max(0,Math.floor(t-e.top));l.value=a})).exec()}))},d=()=>{uni.navigateTo({url:"/pages/freeTraining/free-training"})},m=()=>{uni.navigateTo({url:"/pages/partTraining/part-training"})},u=()=>{uni.navigateTo({url:"/pages/smartAssess/first-skip"})},v=()=>{uni.navigateTo({url:"/pages/serial-test/serial-test"})};return e.onMounted((()=>{r(),uni.onWindowResize&&(s=()=>r(),uni.onWindowResize(s))})),e.onBeforeUnmount((()=>{uni.offWindowResize&&s&&uni.offWindowResize(s)})),(t,s)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"header-title"},[e.createElementVNode("image",{class:"usage-guide-btn",src:"/static/icons/homeActivity/btn_usage_guide.svg",mode:"aspectFit",onClick:o}),e.createElementVNode("text",{class:"title-main"},"HI,Tovigor")]),e.createElementVNode("text",{class:"title-sub"},"欢迎来到Tovigor的健身世界，活力一触即发！")]),e.createElementVNode("view",{class:"card-grid"},[e.createElementVNode("view",{class:"card-left",onClick:d},[e.createElementVNode("view",{class:"card card-large card-free"},[e.createElementVNode("image",{class:"card-bg-img",src:"/static/icons/homeActivity/bg_free_training.svg",mode:"aspectFill"}),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("text",{class:"card-title"},"自由训练"),e.createElementVNode("text",{class:"card-subtitle"},"数字力量 自由掌握")])])]),e.createElementVNode("view",{class:"card-right"},[e.createElementVNode("view",{class:"card card-small card-body",onClick:m},[e.createElementVNode("image",{class:"card-bg-img",src:"/static/icons/homeActivity/bg_body_training.svg",mode:"aspectFill"}),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("text",{class:"card-title"},"部位训练"),e.createElementVNode("text",{class:"card-subtitle"},"针对各部位的系统设计")])]),e.createElementVNode("view",{class:"card card-small card-assess",onClick:u},[e.createElementVNode("image",{class:"card-bg-img",src:"/static/icons/homeActivity/bg_smart_assess.svg",mode:"aspectFill"}),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("text",{class:"card-title"},"智能评估"),e.createElementVNode("text",{class:"card-subtitle"},"定制专属自己的健康方案")])])])]),e.createElementVNode("view",{class:"function-row"},[e.createElementVNode("view",{class:"function-item"},[e.createElementVNode("image",{class:"function-icon",src:"/static/icons/homeActivity/ic_games.svg",mode:"aspectFit"}),e.createElementVNode("text",{class:"function-text"},"娱乐休闲")]),e.createElementVNode("view",{class:"function-item function-middle"},[e.createElementVNode("image",{class:"function-avatar",src:"/static/icons/homeActivity/trimming.png",mode:"aspectFill"}),e.createElementVNode("text",{class:"function-text"},"智慧AI咨询")]),e.createElementVNode("view",{class:"function-item function-add"},[e.createElementVNode("text",{class:"add-icon"},"+"),e.createElementVNode("text",{class:"function-text"},"添加训练")])]),e.createElementVNode("view",{class:"course-section"},[e.createElementVNode("view",{class:"section-header"},[e.createElementVNode("text",{class:"section-title"},"课程推荐"),e.createElementVNode("view",{class:"serial-test-btn",onClick:v},[e.createElementVNode("text",{class:"serial-test-text"},"串口测试")])]),e.createElementVNode("scroll-view",{class:"course-scroll","scroll-y":"","show-scrollbar":!1,style:e.normalizeStyle({height:l.value+"px"})},[e.createElementVNode("view",{class:"course-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(a.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"course-item",key:a},[e.createElementVNode("view",{class:"course-image-wrapper"},[e.createElementVNode("image",{class:"course-image",src:t.image,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"play-btn"},[e.createElementVNode("view",{class:"play-triangle"})])]),e.createElementVNode("view",{class:"course-info"},[e.createElementVNode("text",{class:"course-name"},e.toDisplayString(t.name),1),e.createElementVNode("text",{class:"course-duration"},e.toDisplayString(t.duration),1)])])))),128))])],4)]),e.createVNode(c,{visible:i.value,"onUpdate:visible":s[0]||(s[0]=e=>i.value=e),"guide-items":n.value},null,8,["visible","guide-items"])]))}},[["__scopeId","data-v-d2abf2e6"]]),o="/static/icons/freeTrainingActivity/ic_separate.png",r="/static/icons/freeTrainingActivity/ic_resistance_adjust.svg";function d(e,t,...a){uni.__log__?uni.__log__(e,t,...a):console[e].apply(console,[...a,t])}const m=(t,a=0)=>(a,l=e.getCurrentInstance())=>{!e.isInSSRComponentSetup&&e.injectHook(t,a,l)},u=m("onReady",2),v=m("onBackPress",2),p=t({__name:"free-training",setup(t){const a=e.ref(!1),l=e.ref({sets:"00/00",duration:"00:00:00",calories:"00.00"}),s=e.ref(!1),i=e.ref({startAngle:-120,endAngle:120,minValue:0,maxValue:100,currentAngle:-120,currentValue:0,center:null}),c=e.ref([{key:"xiangxin",name:"向心等张",icon:"/static/icons/freeTrainingActivity/ic_force_xiangxin.png"},{key:"lixin",name:"离心等张",icon:"/static/icons/freeTrainingActivity/ic_force_lixin.png"},{key:"liuti",name:"流体阻力",icon:"/static/icons/freeTrainingActivity/ic_force_liuti.png"},{key:"dengsu",name:"等速",icon:"/static/icons/freeTrainingActivity/ic_force_dengsu.png"},{key:"tanli",name:"弹力",icon:"/static/icons/freeTrainingActivity/ic_force_tanli.png"},{key:"hengli",name:"恒力",icon:"/static/icons/freeTrainingActivity/ic_force_hengli.png"}]),n=e.ref(null);e.computed((()=>`transform: translate(-50%, -50%) rotate(${i.value.currentAngle}deg);`)),e.computed((()=>{const e=i.value.startAngle,t=i.value.endAngle;return(i.value.currentAngle-e)/(t-e)}));const d=e.computed((()=>s.value?"bottom-panel":"bottom-panel bottom-panel--off")),m=e.computed((()=>null!==n.value));e.computed((()=>{if(!m.value)return"自由训练";const e=c.value[n.value];return e?"liuti"===e.key?"流体阻力模式":e.name+"模式":"自由训练"})),e.onMounted((()=>{a.value=!0})),u((()=>{uni.createSelectorQuery().select(".dial-circle").boundingClientRect((e=>{e&&(i.value.center={x:e.left+e.width/2,y:e.top+e.height/2})})).exec()})),e.onUnmounted((()=>{})),v((()=>!!a.value&&(a.value=!1,!0)));const p=()=>{},g=()=>{s.value=!s.value,s.value||(i.value.currentValue=0,i.value.currentAngle=i.value.startAngle)};let E=0;const V=e=>{if(!s.value)return;if(!i.value.center)return;const t=Date.now();if(t-E<20)return;E=t;const a=e.touches[0],l=a.clientX||a.x,c=a.clientY||a.y,n=l-i.value.center.x,o=c-i.value.center.y;let r=180*Math.atan2(o,n)/Math.PI+90;r>180?r-=360:r<-180&&(r+=360);const d=i.value.startAngle,m=i.value.endAngle;r=Math.max(d,Math.min(r,m));const u=(r-d)/(m-d),v=i.value.minValue+u*(i.value.maxValue-i.value.minValue);i.value.currentAngle=r,i.value.currentValue=Math.round(v)},N=()=>{if(!m.value)return void uni.showToast({title:"请先选择训练模式",icon:"none"});const e=c.value[n.value];uni.showToast({title:`已选择 ${e.name} 模式`,icon:"success"})};return(t,u)=>{const v=e.resolveComponent("ModalGeneral");return e.openBlock(),e.createElementBlock("view",{class:"container",onTouchmove:u[1]||(u[1]=e.withModifiers((()=>{}),["prevent"]))},[e.createElementVNode("view",{class:"stat-board"},[e.createElementVNode("image",{class:"board-bg",src:"/static/icons/freeTrainingActivity/bg_statBoard.png",mode:"aspectFill"}),e.createElementVNode("view",{class:"stat-row"},[e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("image",{class:"stat-icon",src:"/static/icons/freeTrainingActivity/ic_counts.png",mode:"aspectFit"}),e.createElementVNode("view",{class:"stat-content"},[e.createElementVNode("text",{class:"stat-label"},"组数/次数"),e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(l.value.sets),1)])]),e.createElementVNode("image",{class:"separator",src:o,mode:"aspectFit"}),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("image",{class:"stat-icon",src:"/static/icons/freeTrainingActivity/ic_train_time.png",mode:"aspectFit"}),e.createElementVNode("view",{class:"stat-content"},[e.createElementVNode("text",{class:"stat-label"},"训练时间"),e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(l.value.duration),1)])]),e.createElementVNode("image",{class:"separator",src:o,mode:"aspectFit"}),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("image",{class:"stat-icon",src:"/static/icons/freeTrainingActivity/ic_calories.png",mode:"aspectFit"}),e.createElementVNode("view",{class:"stat-content"},[e.createElementVNode("text",{class:"stat-label"},"单量/千卡"),e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(l.value.calories),1)])])])]),e.createElementVNode("view",{class:"control-center"},[e.createElementVNode("view",{class:"dial-wrapper",onTouchstart:V,onTouchmove:e.withModifiers(V,["stop","prevent"])},[e.createElementVNode("image",{class:e.normalizeClass(["dial-arc dial-arc-bg",{"dial-arc--off":!s.value}]),src:r,mode:"aspectFit"},null,2),s.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"dial-arc-progress-wrapper",style:e.normalizeStyle({"--progress-angle":i.value.currentAngle+120+"deg"})},[e.createElementVNode("image",{class:"dial-arc dial-arc-active",src:r,mode:"aspectFit"})],4)):e.createCommentVNode("",!0),s.value?(e.openBlock(),e.createElementBlock("image",{key:1,class:"dial-decoration",src:"/static/icons/freeTrainingActivity/ic_decoration.png",mode:"aspectFit"})):e.createCommentVNode("",!0),e.createElementVNode("view",{class:e.normalizeClass(["dial-circle",{"dial-circle--on":s.value}])},[e.createElementVNode("text",{class:"dial-value"},e.toDisplayString(i.value.currentValue),1),e.createElementVNode("text",{class:"dial-unit"},"kg"),e.createElementVNode("view",{class:"dial-power-btn",onClick:e.withModifiers(g,["stop"])},[e.createElementVNode("image",{class:"power-icon",src:"/static/icons/freeTrainingActivity/ic_power.svg",mode:"aspectFit"})])],2)],32)]),e.createElementVNode("view",{class:e.normalizeClass(d.value)},[e.createElementVNode("text",{class:"mode-title"},"训练模式"),e.createElementVNode("view",{class:"mode-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(c.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["mode-item",{selected:n.value===a,disabled:!s.value}]),key:t.key,onClick:e=>(e=>{n.value=e,c.value[e].key})(a)},[e.createElementVNode("image",{class:"mode-icon",src:t.icon,mode:"aspectFit"},null,8,["src"]),e.createElementVNode("text",{class:"mode-name"},e.toDisplayString(t.name),1)],10,["onClick"])))),128))]),e.createElementVNode("view",{class:e.normalizeClass(["mode-confirm-btn",{active:m.value&&s.value}]),onClick:N},[e.createElementVNode("text",{class:"btn-text"},e.toDisplayString(m.value?c.value[n.value].name+"训练":"请选择训练模式"),1)],2)],2),e.createVNode(v,{show:a.value,"onUpdate:show":u[0]||(u[0]=e=>a.value=e),title:"训练安全须知","confirm-text":"我知道了",onConfirm:p},{default:e.withCtx((()=>[e.createElementVNode("view",{class:"safety-content"},[e.createElementVNode("view",{class:"safety-item"},"1. 进行力量训练前，请先进行基础热身"),e.createElementVNode("view",{class:"safety-item"},"2. 使用力量力臂进行训练前，请确认力臂档位已锁好"),e.createElementVNode("view",{class:"safety-item"},"3. 请勿将整个人或其他重物挂在力臂上"),e.createElementVNode("view",{class:"safety-item"},"4. 请勿用硬物击打设备屏幕"),e.createElementVNode("view",{class:"safety-item"},"5. 结束训练后，请及时将力臂还原至初始状态并锁好")])])),_:1},8,["show"])],32)}}},[["__scopeId","data-v-31888fb6"]]),g=t({__name:"common-back-button",props:{useDefault:{type:Boolean,default:!0}},emits:["click"],setup(t,{emit:a}){const l=t,i=a,c=()=>{i("click"),l.useDefault&&uni.navigateBack()};return(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"back-btn",onClick:c},[e.createElementVNode("image",{class:"back-icon",src:s,mode:"widthFix"})]))}},[["__scopeId","data-v-78bd87e7"]]),E="/static/icons/partTrainingActivity/AI_coach_Vince.png",V=t({__name:"filter-pill",props:{label:{type:String,required:!0},value:{type:String,default:""},active:{type:Boolean,default:!1},showArrow:{type:Boolean,default:!0}},emits:["click"],setup(t,{emit:a}){const l=a,s=()=>{l("click")};return(a,l)=>(e.openBlock(),e.createElementBlock("view",{class:e.normalizeClass(["filter-pill",{"filter-pill--active":t.active}]),onClick:s},[e.createElementVNode("text",{class:"label"},e.toDisplayString(t.label),1),e.createElementVNode("view",{class:"right-wrap"},[t.value?(e.openBlock(),e.createElementBlock("text",{key:0,class:"value"},e.toDisplayString(t.value),1)):e.createCommentVNode("",!0),t.showArrow?(e.openBlock(),e.createElementBlock("view",{key:1,class:"arrow-icon"})):e.createCommentVNode("",!0)])],2))}},[["__scopeId","data-v-e572a5d1"]]),N=t({__name:"training-filter-sidebar",props:{filters:{type:Object,default:()=>({gender:[],goal:[],level:[],part:[],method:[],duration:[],equipment:[],coach:[]})}},emits:["changeFilter"],setup(t,{emit:a}){const l=t,s=a,i=e.ref({gender:!1,goal:!1,level:!1,part:!1,method:!1,duration:!1,equipment:!1,coach:!1}),c=[{value:"all",label:"全部"},{value:"female",label:"女性"},{value:"male",label:"男性"}],n=[{value:"fat-loss",label:"减脂塑形"},{value:"strength",label:"力量增强"},{value:"shaping",label:"塑形紧致"},{value:"cardio",label:"有氧训练"},{value:"flexibility",label:"柔韧拉伸"}],o=[{value:"beginner",label:"初级"},{value:"intermediate",label:"中级"},{value:"advanced",label:"高级"}],r=[{value:"shoulder",label:"肩部"},{value:"chest",label:"胸部"},{value:"back",label:"背部"},{value:"arm",label:"手臂"},{value:"core",label:"核心"},{value:"leg",label:"腿部"},{value:"glute",label:"臀部"}],d=[{value:"resistance",label:"阻力训练"},{value:"hiit",label:"HIIT"},{value:"circuit",label:"循环训练"},{value:"bodyweight",label:"自重训练"}],m=[{value:"0-15",label:"15min以内"},{value:"15-30",label:"15-30min"},{value:"30-45",label:"30-45min"},{value:"45+",label:"45min以上"}],u=[{value:"none",label:"无器械"},{value:"dumbbell",label:"哑铃"},{value:"barbell",label:"杠铃"},{value:"kettlebell",label:"壶铃"},{value:"resistance-band",label:"弹力带"},{value:"trx",label:"TRX"}],v=[{value:"vince",label:"Vince 艾斯",avatar:"/static/icons/partTrainingActivity/AI_coach_Vince.png"},{value:"vera",label:"Vera 维拉",avatar:"/static/icons/partTrainingActivity/AI_coach_Vera.png"}],p=e=>{i.value[e]=!i.value[e]},g=(e,t)=>{const a=l.filters[e]||[];let i=[];i=a.includes(t.value)?a.filter((e=>e!==t.value)):[...a,t.value],s("changeFilter",{key:e,values:i,option:t})},N=(e,t)=>(l.filters[e]||[]).includes(t),w=()=>{uni.navigateTo({url:"/pages/partTraining/components/ai-recommend"})};return(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"sidebar"},[e.createElementVNode("view",{class:"ai-header"},[e.createElementVNode("view",{class:"ai-recommend-btn",onClick:w},[e.createElementVNode("image",{class:"ai-avatar",src:E,mode:"aspectFit"}),e.createElementVNode("text",{class:"ai-text"},"AI推荐")])]),e.createElementVNode("scroll-view",{class:"filter-scroll","scroll-y":"","show-scrollbar":!1},[e.createElementVNode("view",{class:"filter-list"},[e.createElementVNode("view",{class:"filter-title"},[e.createElementVNode("text",{class:"filter-title-text"},"筛选")]),e.createVNode(V,{label:"性别",active:i.value.gender,showArrow:!0,onClick:a[0]||(a[0]=e=>p("gender"))},null,8,["active"]),i.value.gender?(e.openBlock(),e.createElementBlock("view",{key:0,class:"filter-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(c,(t=>e.createElementVNode("view",{key:t.value,class:e.normalizeClass(["option-chip",{"option-chip--active":N("gender",t.value)}]),onClick:e=>g("gender",t)},[e.createElementVNode("text",{class:"option-text"},e.toDisplayString(t.label),1)],10,["onClick"]))),64))])):e.createCommentVNode("",!0),e.createVNode(V,{label:"目的",active:i.value.goal,showArrow:!0,onClick:a[1]||(a[1]=e=>p("goal"))},null,8,["active"]),i.value.goal?(e.openBlock(),e.createElementBlock("view",{key:1,class:"filter-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(n,(t=>e.createElementVNode("view",{key:t.value,class:e.normalizeClass(["option-chip",{"option-chip--active":N("goal",t.value)}]),onClick:e=>g("goal",t)},[e.createElementVNode("text",{class:"option-text"},e.toDisplayString(t.label),1)],10,["onClick"]))),64))])):e.createCommentVNode("",!0),e.createVNode(V,{label:"难度",active:i.value.level,showArrow:!0,onClick:a[2]||(a[2]=e=>p("level"))},null,8,["active"]),i.value.level?(e.openBlock(),e.createElementBlock("view",{key:2,class:"filter-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(o,(t=>e.createElementVNode("view",{key:t.value,class:e.normalizeClass(["option-chip",{"option-chip--active":N("level",t.value)}]),onClick:e=>g("level",t)},[e.createElementVNode("text",{class:"option-text"},e.toDisplayString(t.label),1)],10,["onClick"]))),64))])):e.createCommentVNode("",!0),e.createVNode(V,{label:"部位",active:i.value.part,showArrow:!0,onClick:a[3]||(a[3]=e=>p("part"))},null,8,["active"]),i.value.part?(e.openBlock(),e.createElementBlock("view",{key:3,class:"filter-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(r,(t=>e.createElementVNode("view",{key:t.value,class:e.normalizeClass(["option-chip",{"option-chip--active":N("part",t.value)}]),onClick:e=>g("part",t)},[e.createElementVNode("text",{class:"option-text"},e.toDisplayString(t.label),1)],10,["onClick"]))),64))])):e.createCommentVNode("",!0),e.createVNode(V,{label:"训练方式",active:i.value.method,showArrow:!0,onClick:a[4]||(a[4]=e=>p("method"))},null,8,["active"]),i.value.method?(e.openBlock(),e.createElementBlock("view",{key:4,class:"filter-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(d,(t=>e.createElementVNode("view",{key:t.value,class:e.normalizeClass(["option-chip",{"option-chip--active":N("method",t.value)}]),onClick:e=>g("method",t)},[e.createElementVNode("text",{class:"option-text"},e.toDisplayString(t.label),1)],10,["onClick"]))),64))])):e.createCommentVNode("",!0),e.createVNode(V,{label:"时长",active:i.value.duration,showArrow:!0,onClick:a[5]||(a[5]=e=>p("duration"))},null,8,["active"]),i.value.duration?(e.openBlock(),e.createElementBlock("view",{key:5,class:"filter-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(m,(t=>e.createElementVNode("view",{key:t.value,class:e.normalizeClass(["option-chip",{"option-chip--active":N("duration",t.value)}]),onClick:e=>g("duration",t)},[e.createElementVNode("text",{class:"option-text"},e.toDisplayString(t.label),1)],10,["onClick"]))),64))])):e.createCommentVNode("",!0),e.createVNode(V,{label:"配件",active:i.value.equipment,showArrow:!0,onClick:a[6]||(a[6]=e=>p("equipment"))},null,8,["active"]),i.value.equipment?(e.openBlock(),e.createElementBlock("view",{key:6,class:"filter-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(u,(t=>e.createElementVNode("view",{key:t.value,class:e.normalizeClass(["option-chip",{"option-chip--active":N("equipment",t.value)}]),onClick:e=>g("equipment",t)},[e.createElementVNode("text",{class:"option-text"},e.toDisplayString(t.label),1)],10,["onClick"]))),64))])):e.createCommentVNode("",!0),e.createVNode(V,{label:"AI教练",active:i.value.coach,showArrow:!0,onClick:a[7]||(a[7]=e=>p("coach"))},null,8,["active"]),i.value.coach?(e.openBlock(),e.createElementBlock("view",{key:7,class:"coach-options"},[(e.openBlock(),e.createElementBlock(e.Fragment,null,e.renderList(v,(t=>e.createElementVNode("view",{key:t.value,class:e.normalizeClass(["coach-card",{"coach-card--active":N("coach",t.value)}]),onClick:e=>g("coach",t)},[e.createElementVNode("image",{class:"coach-avatar",src:t.avatar,mode:"aspectFit"},null,8,["src"]),e.createElementVNode("text",{class:"coach-name"},e.toDisplayString(t.label),1)],10,["onClick"]))),64))])):e.createCommentVNode("",!0)])])]))}},[["__scopeId","data-v-7e32bf64"]]),w=t({__name:"training-course-card",props:{course:{type:Object,required:!0}},emits:["click","play"],setup(t,{emit:a}){const l=t,s=e.computed((()=>{const e=l.course&&l.course.tags;return e&&e.length?e.join(" ｜ "):""})),i=a,c=()=>{i("click",l.course)},n=()=>{i("play",l.course)};return(a,l)=>(e.openBlock(),e.createElementBlock("view",{class:"course-card",onClick:c},[e.createElementVNode("view",{class:"cover-wrap"},[e.createElementVNode("image",{class:"cover-img",src:t.course.cover,mode:"aspectFill"},null,8,["src"]),e.createElementVNode("view",{class:"play-btn",onClick:e.withModifiers(n,["stop"])},[e.createElementVNode("view",{class:"play-icon-triangle"})])]),e.createElementVNode("view",{class:"info"},[e.createElementVNode("view",{class:"title-row"},[e.createElementVNode("text",{class:"title","number-of-lines":1},e.toDisplayString(t.course.title),1),e.createElementVNode("text",{class:"duration"},e.toDisplayString(t.course.duration),1)]),s.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"tag-row"},[e.createElementVNode("text",{class:"tag-text"},e.toDisplayString(s.value),1)])):e.createCommentVNode("",!0)])]))}},[["__scopeId","data-v-21098dcd"]]),y=t({__name:"part-training",setup(t){const a=e.ref(""),l=e.ref({gender:[],goal:[],level:[],part:[],method:[],duration:[],equipment:[],coach:[]}),s=e.ref([{id:1,title:"美人肩塑形",duration:"15min",cover:"/static/icons/partTrainingActivity/course_pic_01.jpg",tags:["减脂塑形","中等","三角肌后束"]},{id:2,title:"基础臀部塑形",duration:"45min",cover:"/static/icons/partTrainingActivity/course_pic_02.jpg",tags:["塑形紧致","较难","臀大肌"]},{id:3,title:"肩部肌群训练",duration:"25min",cover:"/static/icons/partTrainingActivity/course_pic_03.jpg",tags:["力量增强","中等","三角肌外侧"]},{id:4,title:"美背新训练",duration:"30min",cover:"/static/icons/partTrainingActivity/course_pic_04.jpg",tags:["塑形紧致","中等","背阔肌"]},{id:5,title:"爆发腿部燃脂",duration:"20min",cover:"/static/icons/partTrainingActivity/course_pic_05.jpg",tags:["高效燃脂","较难","股四头肌"]},{id:6,title:"核心塑型进阶",duration:"18min",cover:"/static/icons/partTrainingActivity/course_pic_06.jpg",tags:["核心稳定","中等","腹横肌"]},{id:7,title:"蜜桃臀养成",duration:"35min",cover:"/static/icons/partTrainingActivity/course_pic_01.jpg",tags:["臀部塑形","中等","臀中肌"]},{id:8,title:"全身燃脂HIIT",duration:"22min",cover:"/static/icons/partTrainingActivity/course_pic_02.jpg",tags:["高效燃脂","较难","全身"]},{id:9,title:"手臂线条雕刻",duration:"28min",cover:"/static/icons/partTrainingActivity/course_pic_03.jpg",tags:["力量增强","中等","肱二头肌"]},{id:10,title:"腹肌撕裂者",duration:"16min",cover:"/static/icons/partTrainingActivity/course_pic_04.jpg",tags:["核心强化","较难","腹直肌"]}]),i=e=>{a.value=e.detail.value,uni.showToast({title:"搜索功能开发中",icon:"none"})},c=e=>{uni.showToast({title:`进入 ${e.title}`,icon:"none"})},n=e=>{uni.showToast({title:`播放 ${e.title}`,icon:"none"})},o=e=>{d("log","at pages/partTraining/part-training.vue:177","筛选变更:",e),l.value[e.key]=e.values,uni.showToast({title:`筛选: ${e.option.label}`,icon:"none"})};return(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"page"},[e.createElementVNode("view",{class:"header"},[e.createVNode(g,{class:"back-btn-position"}),e.createElementVNode("text",{class:"header-title"},"部位训练")]),e.createElementVNode("view",{class:"content"},[e.createVNode(N,{class:"sidebar",filters:l.value,onChangeFilter:o},null,8,["filters"]),e.createElementVNode("view",{class:"main-column"},[e.createElementVNode("view",{class:"search-bar"},[e.createElementVNode("view",{class:"search-box"},[e.createElementVNode("view",{class:"search-icon"}),e.createElementVNode("input",{class:"search-input",type:"text",placeholder:"搜索训练课程...","placeholder-style":"color: #B0B0B0; font-size: 24rpx;","confirm-type":"search",onConfirm:i},null,32)])]),e.createElementVNode("scroll-view",{class:"course-scroll","scroll-y":"","show-scrollbar":!1},[e.createElementVNode("view",{class:"course-grid"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(s.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:"course-item"},[e.createVNode(w,{course:t,onClick:c,onPlay:n},null,8,["course"])])))),128))])])])])]))}},[["__scopeId","data-v-ad176689"]]),b=t({__name:"first-skip",setup(t){const a=()=>{uni.navigateTo({url:"/pages/smartAssess/body-function-assess"})},l=()=>{uni.showToast({title:"体态姿势评估",icon:"none"})},s=()=>{uni.navigateTo({url:"/pages/smartAssess/strength-assess"})};return(t,i)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"ad-banner"},[e.createElementVNode("image",{class:"ad-image",src:"/static/icons/smartAssessActivity/firstSkip/advertising_board.png",mode:"aspectFill"})]),e.createElementVNode("view",{class:"assess-cards"},[e.createElementVNode("view",{class:"card card-skill",onClick:a},[e.createElementVNode("image",{class:"card-bg",src:"/static/icons/smartAssessActivity/firstSkip/bg_jineng.svg",mode:"aspectFill"}),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("text",{class:"card-title"},"身体机能"),e.createElementVNode("text",{class:"card-desc"},"请按照指示运动体能测试并身体各项机能分析")])]),e.createElementVNode("view",{class:"card card-posture",onClick:l},[e.createElementVNode("image",{class:"card-bg",src:"/static/icons/smartAssessActivity/firstSkip/bg_zishi.svg",mode:"aspectFill"}),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("text",{class:"card-title"},"体态姿势"),e.createElementVNode("text",{class:"card-desc"},"通过AI拍摄并行人体体态姿势全方位分析")])]),e.createElementVNode("view",{class:"card card-strength",onClick:s},[e.createElementVNode("image",{class:"card-bg",src:"/static/icons/smartAssessActivity/firstSkip/bg_liliang.svg",mode:"aspectFill"}),e.createElementVNode("view",{class:"card-content"},[e.createElementVNode("text",{class:"card-title"},"部位力量"),e.createElementVNode("text",{class:"card-desc"},"进行六个部位的评估力量评估")])])])]))}},[["__scopeId","data-v-45c02b6d"]]),k=t({__name:"step-bar",props:{totalSteps:{type:Number,required:!0},currentStep:{type:Number,required:!0}},setup:t=>(a,l)=>(e.openBlock(),e.createElementBlock("view",{class:"step-bar"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(t.totalSteps,((a,l)=>(e.openBlock(),e.createElementBlock("view",{key:l,class:e.normalizeClass(["step-item",{"step-item-active":l<t.currentStep}])},null,2)))),128))]))},[["__scopeId","data-v-4e28fc78"]]),h=t({__name:"assessment-complete-modal",props:{visible:{type:Boolean,default:!1},currentPartId:{type:String,default:"shoulder"},nextPartId:{type:String,default:"chest"},countdownSeconds:{type:Number,default:5}},emits:["update:visible","start","cancel","timeout"],setup(t,{emit:a}){const l=t,s=a,i={shoulder:"肩部",chest:"胸部",back:"背部",arm:"手臂",hip:"臀部",leg:"腿部"},c=e.computed((()=>i[l.currentPartId]||"未知部位")),n=e.computed((()=>i[l.nextPartId]||"未知部位")),o=e.ref(l.countdownSeconds);let r=null;e.watch((()=>l.visible),(e=>{e?(o.value=l.countdownSeconds,m()):u()}));const m=()=>{u(),r=setInterval((()=>{o.value--,o.value<=0&&(u(),s("timeout"),v())}),1e3)},u=()=>{r&&(clearInterval(r),r=null)},v=()=>{s("update:visible",!1)},p=()=>{},g=()=>{u(),d("log","at components/modals/assessment-complete-modal.vue:162","[串口通信] 发送开始命令，跳转到:",l.nextPartId),s("start",{currentPartId:l.currentPartId,nextPartId:l.nextPartId}),v()},E=()=>{u(),d("log","at components/modals/assessment-complete-modal.vue:177","[串口通信] 发送取消命令"),s("cancel"),v()};return e.onUnmounted((()=>{u()})),(a,l)=>t.visible?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modal-overlay",onClick:p},[e.createElementVNode("view",{class:"modal-card",onClick:l[0]||(l[0]=e.withModifiers((()=>{}),["stop"]))},[e.createElementVNode("view",{class:"modal-header"},[e.createElementVNode("view",{class:"handle-bar"}),e.createElementVNode("view",{class:"title-section"},[e.createElementVNode("image",{class:"icon-left",src:"/static/icons/smartAssessActivity/li-liang/pop-up_elementA.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"title-text"},'" 已完成'+e.toDisplayString(c.value)+' "',1),e.createElementVNode("image",{class:"icon-right",src:"/static/icons/smartAssessActivity/li-liang/pop-up_elementB.png",mode:"aspectFit"})]),e.createElementVNode("text",{class:"subtitle-text"},e.toDisplayString(o.value)+"S后自动跳转"+e.toDisplayString(n.value)+"评估",1)]),e.createElementVNode("view",{class:"modal-footer"},[e.createElementVNode("view",{class:"btn-group"},[e.createElementVNode("view",{class:"btn btn-primary",onClick:g},[e.createElementVNode("text",{class:"btn-text btn-primary-text"},"直接开始")]),e.createElementVNode("view",{class:"btn btn-secondary",onClick:E},[e.createElementVNode("text",{class:"btn-text btn-secondary-text"},"取消")])])])])])):e.createCommentVNode("",!0)}},[["__scopeId","data-v-e34599af"]]),f=t({__name:"strength-assess",setup(t){const a=e.ref(0);e.onMounted((()=>{const e=uni.getSystemInfoSync();a.value=e.statusBarHeight||0}));const l=e.ref(1),s=e.ref(!1),i=e.ref(!1),c=e.ref(0),n=e.computed((()=>String(c.value).padStart(2,"0"))),o=e.ref([{id:"shoulder",name:"肩部",icon:"/static/icons/smartAssessActivity/li-liang/ic_muscle_shoulder.svg"},{id:"chest",name:"胸部",icon:"/static/icons/smartAssessActivity/li-liang/ic_muscle_chest.svg"},{id:"back",name:"背部",icon:"/static/icons/smartAssessActivity/li-liang/ic_muscle_back.svg"},{id:"arm",name:"手臂",icon:"/static/icons/smartAssessActivity/li-liang/ic_muscle_arm.svg"},{id:"hip",name:"臀部",icon:"/static/icons/smartAssessActivity/li-liang/ic_muscle_hip.svg"},{id:"leg",name:"腿部",icon:"/static/icons/smartAssessActivity/li-liang/ic_muscle_leg.svg"}]),r=e.ref("shoulder"),m=()=>{uni.navigateBack()},u=()=>{i.value=!i.value,i.value||(c.value=0)},v=e=>{c.value=e.detail.value,d("log","at pages/smartAssess/strength-assess.vue:174","当前配重:",c.value,"KG")},p=()=>{s.value=!0},g=e=>{var t;d("log","at pages/smartAssess/strength-assess.vue:197","点击直接开始:",e),uni.showToast({title:`开始${(null==(t=o.value.find((t=>t.id===e.nextPartId)))?void 0:t.name)||""}评估`,icon:"none"})},E=()=>{d("log","at pages/smartAssess/strength-assess.vue:207","点击取消"),uni.showToast({title:"已取消跳转",icon:"none"})},V=()=>{d("log","at pages/smartAssess/strength-assess.vue:216","倒计时结束，自动跳转"),uni.showToast({title:"自动跳转下一部位",icon:"none"})};return(t,N)=>(e.openBlock(),e.createElementBlock("view",{class:"page"},[e.createElementVNode("image",{class:"background-image",src:"/static/icons/smartAssessActivity/li-liang/bg_powerful_Girl.png",mode:"aspectFill"}),e.createElementVNode("view",{class:"custom-nav",style:e.normalizeStyle({paddingTop:a.value+"px"})},[e.createElementVNode("view",{class:"nav-content"},[e.createElementVNode("view",{class:"back-btn",onClick:m},[e.createElementVNode("image",{class:"back-icon",src:"/static/icons/smartAssessActivity/li-liang/btn_back.svg",mode:"aspectFit"})]),e.createElementVNode("text",{class:"nav-title"},"力量评估")])],4),e.createElementVNode("view",{class:"step-bar-overlay",style:e.normalizeStyle({top:a.value+88+"rpx"})},[e.createVNode(k,{totalSteps:12,currentStep:l.value},null,8,["currentStep"])],4),e.createElementVNode("view",{class:"weight-panel"},[e.createElementVNode("view",{class:"weight-info-row"},[e.createElementVNode("text",{class:"weight-label"},"配重"),e.createElementVNode("text",{class:"weight-value"},e.toDisplayString(n.value)+"KG",1),e.createElementVNode("view",{class:"weight-unit"},[e.createElementVNode("image",{class:"unit-icon",src:"/static/icons/smartAssessActivity/li-liang/ic_KG.png",mode:"aspectFit"}),e.createElementVNode("text",{class:"unit-text"},"单位：KG")])]),e.createElementVNode("view",{class:"control-row"},[e.createElementVNode("view",{class:e.normalizeClass(["power-btn",{"power-on":i.value}]),onClick:u},[e.createElementVNode("image",{class:"power-icon",src:i.value?"/static/icons/smartAssessActivity/li-liang/ic_power_on.svg":"/static/icons/smartAssessActivity/li-liang/ic_power_off.svg",mode:"aspectFit"},null,8,["src"])],2),e.createElementVNode("view",{class:"slider-wrapper"},[e.createElementVNode("slider",{class:"weight-slider",value:c.value,min:0,max:100,disabled:!i.value,"active-color":"rgba(0, 200, 83, 0.7)","background-color":"rgba(224, 224, 224, 0.5)","block-size":"24",onChange:v},null,40,["value","disabled"])])])]),e.createElementVNode("view",{class:"body-parts-section"},[e.createElementVNode("view",{class:"parts-main-btn"},[e.createElementVNode("text",{class:"parts-main-text"},"部位"),e.createElementVNode("text",{class:"parts-main-text"},"选择")]),e.createElementVNode("scroll-view",{class:"parts-scroll","scroll-x":"","show-scrollbar":!1},[e.createElementVNode("view",{class:"parts-list"},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(o.value,(t=>(e.openBlock(),e.createElementBlock("view",{key:t.id,class:e.normalizeClass(["part-item",{"part-active":r.value===t.id}]),onClick:e=>{return a=t.id,r.value=a,d("log","at pages/smartAssess/strength-assess.vue:180","选中部位:",a),void uni.showToast({title:`已选择${o.value.find((e=>e.id===a)).name}`,icon:"none"});var a}},[e.createElementVNode("image",{class:"part-icon",src:t.icon,mode:"aspectFit"},null,8,["src"]),e.createElementVNode("text",{class:"part-name"},e.toDisplayString(t.name),1)],10,["onClick"])))),128))])])]),(e.openBlock(),e.createElementBlock("view",{key:0,class:"test-btn",onClick:p},[e.createElementVNode("text",{class:"test-btn-text"},"测试弹窗")])),e.createVNode(h,{visible:s.value,"onUpdate:visible":N[0]||(N[0]=e=>s.value=e),currentPartId:r.value,nextPartId:"chest",countdownSeconds:5,onStart:g,onCancel:E,onTimeout:V},null,8,["visible","currentPartId"])]))}},[["__scopeId","data-v-a30d332b"]]),x=t({__name:"body-function-assess",setup(t){const a=()=>{uni.navigateBack()};return(t,l)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("view",{class:"back-btn",onClick:a},[e.createElementVNode("image",{class:"back-icon",src:s,mode:"widthFix"})]),e.createElementVNode("text",{class:"header-title"},"身体机能")]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"ai-badge"},[e.createElementVNode("text",{class:"ai-text"},"AI助手")]),e.createElementVNode("view",{class:"tip-card"},[e.createElementVNode("text",{class:"tip-text"},"请按照指示连接外部体脂秤进行评估")]),e.createElementVNode("view",{class:"device-image-wrapper"},[e.createElementVNode("image",{class:"device-image",src:"/static/icons/smartAssessActivity/ji-neng/ic_body_fat_scale.png",mode:"widthFix"})])])]))}},[["__scopeId","data-v-b2aca302"]]),{registerUTSInterface:_,initUTSProxyClass:A,initUTSProxyFunction:B,initUTSPackageName:C,initUTSIndexClassName:S,initUTSClassName:T}=uni,I="wzlSerialbridge",F="串口通信插件",D="",M="",z=C(I,true),$=S(I,true),P=B(!1,{moduleName:F,moduleType:D,errMsg:M,main:!0,package:z,class:$,name:"openSerialByJs",keepAlive:!1,params:[{name:"options",type:"OpenOptions"}],return:""}),L=B(!1,{moduleName:F,moduleType:D,errMsg:M,main:!0,package:z,class:$,name:"writeSerialByJs",keepAlive:!1,params:[{name:"options",type:"WriteOptions"}],return:""}),U=B(!1,{moduleName:F,moduleType:D,errMsg:M,main:!0,package:z,class:$,name:"readSerialByJs",keepAlive:!1,params:[{name:"options",type:"ReadOptions"}],return:""}),R=B(!1,{moduleName:F,moduleType:D,errMsg:M,main:!0,package:z,class:$,name:"closeSerialByJs",keepAlive:!1,params:[{name:"options",type:"CloseOptions"}],return:""}),j=B(!1,{moduleName:F,moduleType:D,errMsg:M,main:!0,package:z,class:$,name:"listDevicesByJs",keepAlive:!1,params:[{name:"options",type:"ListDevicesOptions"}],return:""}),q=B(!1,{moduleName:F,moduleType:D,errMsg:M,main:!0,package:z,class:$,name:"getVersionByJs",keepAlive:!1,params:[],return:""}),H=t({__name:"serial-test",setup(t){e.onMounted((()=>{d("log","at pages/serial-test/serial-test.vue:134","=== 串口测试页面已挂载 ==="),d("log","at pages/serial-test/serial-test.vue:135","=== 插件版本 ===",q()),uni.showToast({title:"插件已加载",icon:"success",duration:1500})}));const a=e.ref("/dev/ttyS3"),l=e.ref([9600,19200,38400,57600,115200,230400,460800]),s=e.ref(4),i=e.ref(!1),c=e.ref(""),n=e.ref([]),o=e.ref(null);let r=0;e.onBeforeUnmount((()=>{i.value&&r>0&&R({portId:r,success:()=>{d("log","at pages/serial-test/serial-test.vue:156","串口已自动关闭")}})}));const m=()=>{j({prefixes:["/dev/ttyS","/dev/ttyUSB","/dev/ttyAMA"],success:e=>{d("log","at pages/serial-test/serial-test.vue:166","找到设备:",e.devices),0!==e.devices.length?uni.showActionSheet({itemList:e.devices,success:t=>{a.value=e.devices[t.tapIndex],uni.showToast({title:`已选择: ${a.value}`,icon:"none"})}}):uni.showToast({title:"未找到设备",icon:"none"})},fail:e=>{d("error","at pages/serial-test/serial-test.vue:188","扫描失败:",e),uni.showToast({title:`扫描失败: ${e.errMsg}`,icon:"none"})}})},u=()=>{a.value?(uni.showLoading({title:"打开中..."}),P({path:a.value,config:{baudRate:l.value[s.value],dataBits:8,stopBits:1,parity:"none"},success:e=>{d("log","at pages/serial-test/serial-test.vue:217","串口已打开:",e),r=e.portId,i.value=!0,uni.hideLoading(),uni.showToast({title:"串口已打开",icon:"success"}),g()},fail:e=>{d("error","at pages/serial-test/serial-test.vue:230","打开失败:",e),uni.hideLoading(),uni.showModal({title:"打开失败",content:`错误码 ${e.errCode}: ${e.errMsg}`,showCancel:!1})}})):uni.showToast({title:"请输入设备路径",icon:"none"})},v=()=>{R({portId:r,success:()=>{d("log","at pages/serial-test/serial-test.vue:245","串口已关闭"),i.value=!1,r=0,E(),uni.showToast({title:"串口已关闭",icon:"success"})},fail:e=>{d("error","at pages/serial-test/serial-test.vue:255","关闭失败:",e),uni.showToast({title:`关闭失败: ${e.errMsg}`,icon:"none"})}})};let p=null;const g=()=>{E(),p=setInterval((()=>{i.value&&0!==r?U({portId:r,length:1024,format:"hex",timeout:100,success:e=>{e.bytesRead>0&&(d("log","at pages/serial-test/serial-test.vue:284","接收到数据:",e.data),n.value.unshift({data:e.data,bytes:e.bytesRead,ts:Date.now()}),n.value.length>100&&n.value.pop())},fail:e=>{10003!==e.errCode&&d("error","at pages/serial-test/serial-test.vue:300","读取失败:",e)}}):E()}),200)},E=()=>{p&&(clearInterval(p),p=null)},V=()=>{if(!c.value.trim())return void uni.showToast({title:"请输入数据",icon:"none"});if(!i.value||0===r)return void uni.showToast({title:"请先打开串口",icon:"none"});const e=c.value.replace(/\s+/g,"");/^[0-9A-Fa-f]*$/.test(e)?e.length%2==0?L({portId:r,data:e,format:"hex",timeout:1e3,success:e=>{d("log","at pages/serial-test/serial-test.vue:357","发送成功:",e),uni.showToast({title:`已发送 ${e.bytesWritten} 字节`,icon:"success",duration:1e3})},fail:e=>{d("error","at pages/serial-test/serial-test.vue:365","发送失败:",e),uni.showToast({title:`发送失败: ${e.errMsg}`,icon:"none"})}}):uni.showToast({title:"HEX字符串长度必须为偶数",icon:"none"}):uni.showToast({title:"数据格式错误，请输入HEX格式",icon:"none"})},N=e=>{c.value=e,V()},w=()=>{n.value=[],uni.showToast({title:"已清空",icon:"success",duration:1e3})},y=()=>{o.value={bytesTx:0,bytesRx:n.value.reduce(((e,t)=>e+t.bytes),0),framesTx:0,framesRx:n.value.length,queue:{items:0,bytes:0}},uni.showToast({title:"统计已更新",icon:"success",duration:1e3})},b=e=>{s.value=e.detail.value},k=e=>{const t=new Date(e);return`${String(t.getHours()).padStart(2,"0")}:${String(t.getMinutes()).padStart(2,"0")}:${String(t.getSeconds()).padStart(2,"0")}.${String(t.getMilliseconds()).padStart(3,"0")}`};return(t,r)=>(e.openBlock(),e.createElementBlock("view",{class:"container"},[e.createElementVNode("view",{class:"header"},[e.createElementVNode("text",{class:"title"},"串口通信测试")]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("text",{class:"section-title"},"1. 设备配置"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"设备路径:"),e.withDirectives(e.createElementVNode("input",{"onUpdate:modelValue":r[0]||(r[0]=e=>a.value=e),class:"input",placeholder:"/dev/ttyS3"},null,512),[[e.vModelText,a.value]])]),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"波特率:"),e.createElementVNode("picker",{value:s.value,range:l.value,onChange:b},[e.createElementVNode("view",{class:"picker"},e.toDisplayString(l.value[s.value]),1)],40,["value","range"])]),e.createElementVNode("button",{onClick:m,class:"btn btn-secondary"},"扫描设备")]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("text",{class:"section-title"},"2. 连接控制"),e.createElementVNode("view",{class:e.normalizeClass(["status-bar",{connected:i.value}])},[e.createElementVNode("text",{class:"status-text"},"状态: "+e.toDisplayString(i.value?"已连接":"未连接"),1),i.value?(e.openBlock(),e.createElementBlock("text",{key:0,class:"status-info"},e.toDisplayString(a.value),1)):e.createCommentVNode("",!0)],2),e.createElementVNode("view",{class:"button-group"},[e.createElementVNode("button",{onClick:u,disabled:i.value,class:"btn btn-primary"}," 打开串口 ",8,["disabled"]),e.createElementVNode("button",{onClick:v,disabled:!i.value,class:"btn btn-danger"}," 关闭串口 ",8,["disabled"])])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("text",{class:"section-title"},"3. 数据发送"),e.createElementVNode("view",{class:"form-item"},[e.createElementVNode("text",{class:"label"},"发送数据 (HEX):"),e.withDirectives(e.createElementVNode("textarea",{"onUpdate:modelValue":r[1]||(r[1]=e=>c.value=e),class:"textarea",placeholder:"AA5501020304BB"},null,512),[[e.vModelText,c.value]])]),e.createElementVNode("view",{class:"button-group"},[e.createElementVNode("button",{onClick:V,disabled:!i.value,class:"btn btn-primary"}," 发送 ",8,["disabled"]),e.createElementVNode("button",{onClick:r[2]||(r[2]=e=>c.value=""),class:"btn btn-secondary"},"清空")]),e.createElementVNode("view",{class:"quick-commands"},[e.createElementVNode("text",{class:"label"},"快捷命令:"),e.createElementVNode("button",{onClick:r[3]||(r[3]=e=>N("AA5501BB")),class:"btn btn-small"},"测试1"),e.createElementVNode("button",{onClick:r[4]||(r[4]=e=>N("AA5502BB")),class:"btn btn-small"},"测试2"),e.createElementVNode("button",{onClick:r[5]||(r[5]=e=>N("AA5503BB")),class:"btn btn-small"},"测试3")])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("text",{class:"section-title"},"4. 数据接收"),e.createElementVNode("view",{class:"received-header"},[e.createElementVNode("text",null,"接收到 "+e.toDisplayString(n.value.length)+" 条消息",1),e.createElementVNode("button",{onClick:w,class:"btn btn-small"},"清空")]),e.createElementVNode("scroll-view",{class:"received-list","scroll-y":""},[(e.openBlock(!0),e.createElementBlock(e.Fragment,null,e.renderList(n.value,((t,a)=>(e.openBlock(),e.createElementBlock("view",{key:a,class:"message-item"},[e.createElementVNode("view",{class:"message-header"},[e.createElementVNode("text",{class:"message-time"},e.toDisplayString(k(t.ts)),1),e.createElementVNode("text",{class:"message-bytes"},e.toDisplayString(t.bytes)+" 字节",1)]),e.createElementVNode("text",{class:"message-data"},e.toDisplayString(t.data),1)])))),128)),0===n.value.length?(e.openBlock(),e.createElementBlock("view",{key:0,class:"empty-state"},[e.createElementVNode("text",null,"暂无数据")])):e.createCommentVNode("",!0)])]),e.createElementVNode("view",{class:"section"},[e.createElementVNode("text",{class:"section-title"},"5. 统计信息"),e.createElementVNode("button",{onClick:y,class:"btn btn-secondary"},"刷新统计"),o.value?(e.openBlock(),e.createElementBlock("view",{key:0,class:"stats-grid"},[e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-label"},"发送字节"),e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(o.value.bytesTx),1)]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-label"},"接收字节"),e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(o.value.bytesRx),1)]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-label"},"发送帧"),e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(o.value.framesTx),1)]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-label"},"接收帧"),e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(o.value.framesRx),1)]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-label"},"队列项"),e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(o.value.queue?o.value.queue.items:0),1)]),e.createElementVNode("view",{class:"stat-item"},[e.createElementVNode("text",{class:"stat-label"},"队列字节"),e.createElementVNode("text",{class:"stat-value"},e.toDisplayString(o.value.queue?o.value.queue.bytes:0),1)])])):e.createCommentVNode("",!0)])]))}},[["__scopeId","data-v-67125cb2"]]),O=t({__name:"ai-recommend",setup:t=>(t,a)=>(e.openBlock(),e.createElementBlock("view",{class:"page"},[e.createElementVNode("view",{class:"header"},[e.createVNode(g,{class:"back-btn-position"}),e.createElementVNode("text",{class:"header-title"},"AI推荐训练")]),e.createElementVNode("view",{class:"content"},[e.createElementVNode("view",{class:"placeholder-container"},[e.createElementVNode("image",{class:"ai-icon",src:E,mode:"aspectFit"}),e.createElementVNode("text",{class:"placeholder-title"},"AI智能推荐"),e.createElementVNode("text",{class:"placeholder-desc"},"根据您的身体数据和训练目标，为您量身定制专属训练计划"),e.createElementVNode("text",{class:"placeholder-hint"},"功能开发中，敬请期待...")])])]))},[["__scopeId","data-v-ac9b1ac9"]]);__definePage("pages/idle/idle",a),__definePage("pages/index/index",n),__definePage("pages/freeTraining/free-training",p),__definePage("pages/partTraining/part-training",y),__definePage("pages/smartAssess/first-skip",b),__definePage("pages/smartAssess/strength-assess",f),__definePage("pages/smartAssess/body-function-assess",x),__definePage("pages/serial-test/serial-test",H),__definePage("pages/partTraining/components/ai-recommend",O);const G={onLaunch(){d("log","at App.vue:4","App Launch")},onShow(){d("log","at App.vue:7","App Show")},onHide(){d("log","at App.vue:10","App Hide")}};const J=t({name:"ModalGeneral",props:{show:{type:Boolean,default:!1},title:{type:String,default:""},content:{type:String,default:""},showCancel:{type:Boolean,default:!1},confirmText:{type:String,default:"确定"},cancelText:{type:String,default:"取消"},maskClosable:{type:Boolean,default:!1}},methods:{handleConfirm(){this.$emit("confirm"),this.$emit("update:show",!1)},handleCancel(){this.$emit("cancel"),this.$emit("update:show",!1)},handleMaskClick(){this.maskClosable&&this.$emit("update:show",!1)}}},[["render",function(t,a,l,s,i,c){return l.show?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modal-mask",onTouchmove:a[3]||(a[3]=e.withModifiers((()=>{}),["stop","prevent"])),onClick:a[4]||(a[4]=(...e)=>c.handleMaskClick&&c.handleMaskClick(...e))},[e.createElementVNode("view",{class:"modal-box",onClick:a[2]||(a[2]=e.withModifiers((()=>{}),["stop"]))},[l.title?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modal-title"},[e.createElementVNode("text",null,e.toDisplayString(l.title),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"modal-content"},[e.renderSlot(t.$slots,"default",{},(()=>[e.createElementVNode("text",{class:"modal-text"},e.toDisplayString(l.content),1)]),!0)]),e.createElementVNode("view",{class:"modal-footer"},[l.showCancel?(e.openBlock(),e.createElementBlock("view",{key:0,class:"modal-btn modal-btn-cancel",onClick:a[0]||(a[0]=(...e)=>c.handleCancel&&c.handleCancel(...e))},[e.createElementVNode("text",null,e.toDisplayString(l.cancelText),1)])):e.createCommentVNode("",!0),e.createElementVNode("view",{class:"modal-btn modal-btn-confirm",onClick:a[1]||(a[1]=(...e)=>c.handleConfirm&&c.handleConfirm(...e))},[e.createElementVNode("text",null,e.toDisplayString(l.confirmText),1)])])])],32)):e.createCommentVNode("",!0)}],["__scopeId","data-v-6f53dcc6"]]);const{app:W,Vuex:X,Pinia:K}=function(){const t=e.createVueApp(G);return t.component("ModalGeneral",J),{app:t}}();uni.Vuex=X,uni.Pinia=K,W.provide("__globalStyles",__uniConfig.styles),W._component.mpType="app",W._component.render=()=>{},W.mount("#app")}(Vue);
