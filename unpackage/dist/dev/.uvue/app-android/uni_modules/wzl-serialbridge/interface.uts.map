{"version":3,"file":"interface.uts","sourceRoot":"","sources":["uni_modules/wzl-serialbridge/interface.uts"],"names":[],"mappings":"AAAA;;;;GAIG;AAEH,iDAAiD;AAEjD;;GAEG;AACH,MAAM,MAAM,YAAY,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,GAAG,CAAC,CAAC;AAEzC;;GAEG;AACH,MAAM,MAAM,YAAY,GAAG,CAAC,GAAG,CAAC,CAAC;AAEjC;;GAEG;AACH,MAAM,MAAM,UAAU,GAAG,MAAM,GAAG,KAAK,GAAG,MAAM,CAAC;AAEjD;;GAEG;AACH,MAAM,MAAM,YAAY,GAAG;IACzB,oBAAoB;IACpB,QAAQ,CAAC,EAAE,MAAM,CAAC;IAClB,eAAe;IACf,QAAQ,CAAC,EAAE,YAAY,CAAC;IACxB,eAAe;IACf,QAAQ,CAAC,EAAE,YAAY,CAAC;IACxB,oBAAoB;IACpB,MAAM,CAAC,EAAE,UAAU,CAAC;CACrB,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,WAAW,GAAG;IACxB,0BAA0B;IAC1B,IAAI,EAAE,MAAM,CAAC;IACb,WAAW;IACX,MAAM,CAAC,EAAE,YAAY,CAAC;IACtB,WAAW;IACX,OAAO,CAAC,EAAE,CAAC,GAAG,EAAE,UAAU,KAAK,IAAI,CAAC;IACpC,WAAW;IACX,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,KAAK,IAAI,CAAC;IAClC,WAAW;IACX,QAAQ,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,KAAK,IAAI,CAAC;CAC/B,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,UAAU,GAAG;IACvB,MAAM,EAAE,MAAM,CAAC;IACf,cAAc;IACd,MAAM,EAAE,MAAM,CAAC;CAChB,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,YAAY,GAAG;IACzB,cAAc;IACd,MAAM,EAAE,MAAM,CAAC;IACf,+BAA+B;IAC/B,IAAI,EAAE,MAAM,CAAC;IACb,6BAA6B;IAC7B,MAAM,CAAC,EAAE,KAAK,GAAG,QAAQ,CAAC;IAC1B,uBAAuB;IACvB,OAAO,CAAC,EAAE,MAAM,CAAC;IACjB,WAAW;IACX,OAAO,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,KAAK,IAAI,CAAC;IACrC,WAAW;IACX,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,KAAK,IAAI,CAAC;IAClC,WAAW;IACX,QAAQ,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,KAAK,IAAI,CAAC;CAC/B,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,WAAW,GAAG;IACxB,MAAM,EAAE,MAAM,CAAC;IACf,eAAe;IACf,YAAY,EAAE,MAAM,CAAC;CACtB,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,WAAW,GAAG;IACxB,cAAc;IACd,MAAM,EAAE,MAAM,CAAC;IACf,yBAAyB;IACzB,MAAM,CAAC,EAAE,MAAM,CAAC;IAChB,+BAA+B;IAC/B,MAAM,CAAC,EAAE,KAAK,GAAG,QAAQ,CAAC;IAC1B,uBAAuB;IACvB,OAAO,CAAC,EAAE,MAAM,CAAC;IACjB,WAAW;IACX,OAAO,CAAC,EAAE,CAAC,GAAG,EAAE,UAAU,KAAK,IAAI,CAAC;IACpC,WAAW;IACX,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,KAAK,IAAI,CAAC;IAClC,WAAW;IACX,QAAQ,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,KAAK,IAAI,CAAC;CAC/B,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,UAAU,GAAG;IACvB,MAAM,EAAE,MAAM,CAAC;IACf,+BAA+B;IAC/B,IAAI,EAAE,MAAM,CAAC;IACb,eAAe;IACf,SAAS,EAAE,MAAM,CAAC;CACnB,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,YAAY,GAAG;IACzB,cAAc;IACd,MAAM,EAAE,MAAM,CAAC;IACf,WAAW;IACX,OAAO,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,KAAK,IAAI,CAAC;IACrC,WAAW;IACX,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,KAAK,IAAI,CAAC;IAClC,WAAW;IACX,QAAQ,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,KAAK,IAAI,CAAC;CAC/B,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,WAAW,GAAG;IACxB,MAAM,EAAE,MAAM,CAAC;CAChB,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,kBAAkB,GAAG;IAC/B,6CAA6C;IAC7C,QAAQ,CAAC,EAAE,MAAM,EAAE,CAAC;IACpB,WAAW;IACX,OAAO,CAAC,EAAE,CAAC,GAAG,EAAE,iBAAiB,KAAK,IAAI,CAAC;IAC3C,WAAW;IACX,IAAI,CAAC,EAAE,CAAC,GAAG,EAAE,WAAW,KAAK,IAAI,CAAC;IAClC,WAAW;IACX,QAAQ,CAAC,EAAE,CAAC,GAAG,EAAE,GAAG,KAAK,IAAI,CAAC;CAC/B,CAAC;AAEF;;GAEG;AACH,MAAM,MAAM,iBAAiB,GAAG;IAC9B,MAAM,EAAE,MAAM,CAAC;IACf,aAAa;IACb,OAAO,EAAE,MAAM,EAAE,CAAC;CACnB,CAAC;AAEF,kDAAkD;AAElD;;;;;;;;;GASG;AACH,MAAM,MAAM,eAAe,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,GAAG,KAAK,CAAC;AAEpF;;GAEG;AACH,MAAM,WAAW,WAAY,SAAQ,SAAS;IAC5C,OAAO,EAAE,eAAe,CAAC;CAC1B;AAED,qDAAqD;AAErD;;GAEG;AACH,MAAM,MAAM,UAAU,GAAG,CAAC,OAAO,EAAE,WAAW,KAAK,IAAI,CAAC;AAExD;;GAEG;AACH,MAAM,MAAM,WAAW,GAAG,CAAC,OAAO,EAAE,YAAY,KAAK,IAAI,CAAC;AAE1D;;GAEG;AACH,MAAM,MAAM,UAAU,GAAG,CAAC,OAAO,EAAE,WAAW,KAAK,IAAI,CAAC;AAExD;;GAEG;AACH,MAAM,MAAM,WAAW,GAAG,CAAC,OAAO,EAAE,YAAY,KAAK,IAAI,CAAC;AAE1D;;GAEG;AACH,MAAM,MAAM,WAAW,GAAG,CAAC,OAAO,CAAC,EAAE,kBAAkB,KAAK,IAAI,CAAC;AAEjE;;GAEG;AACH,MAAM,MAAM,UAAU,GAAG,MAAM,MAAM,CAAC","sourcesContent":["/**\r\n * 串口通信插件 - TypeScript 接口定义\r\n * \r\n * 基于 Kotlin SerialPort 库封装\r\n */\r\n\r\n// ==================== 类型定义 ====================\r\n\r\n/**\r\n * 数据位枚举\r\n */\r\nexport type DataBitsType = 5 | 6 | 7 | 8;\r\n\r\n/**\r\n * 停止位枚举\r\n */\r\nexport type StopBitsType = 1 | 2;\r\n\r\n/**\r\n * 校验位枚举\r\n */\r\nexport type ParityType = 'none' | 'odd' | 'even';\r\n\r\n/**\r\n * 串口配置参数\r\n */\r\nexport type SerialConfig = {\r\n  /** 波特率，默认 115200 */\r\n  baudRate?: number;\r\n  /** 数据位，默认 8 */\r\n  dataBits?: DataBitsType;\r\n  /** 停止位，默认 1 */\r\n  stopBits?: StopBitsType;\r\n  /** 校验位，默认 'none' */\r\n  parity?: ParityType;\r\n};\r\n\r\n/**\r\n * 打开串口的参数\r\n */\r\nexport type OpenOptions = {\r\n  /** 设备路径，如 \"/dev/ttyS0\" */\r\n  path: string;\r\n  /** 串口配置 */\r\n  config?: SerialConfig;\r\n  /** 成功回调 */\r\n  success?: (res: OpenResult) => void;\r\n  /** 失败回调 */\r\n  fail?: (err: SerialError) => void;\r\n  /** 完成回调 */\r\n  complete?: (res: any) => void;\r\n};\r\n\r\n/**\r\n * 打开成功的返回值\r\n */\r\nexport type OpenResult = {\r\n  errMsg: string;\r\n  /** 串口句柄 ID */\r\n  portId: number;\r\n};\r\n\r\n/**\r\n * 写数据参数\r\n */\r\nexport type WriteOptions = {\r\n  /** 串口句柄 ID */\r\n  portId: number;\r\n  /** 要写入的数据 (HEX 字符串或 Base64) */\r\n  data: string;\r\n  /** 数据格式: 'hex' | 'base64' */\r\n  format?: 'hex' | 'base64';\r\n  /** 超时时间(毫秒)，默认 1000 */\r\n  timeout?: number;\r\n  /** 成功回调 */\r\n  success?: (res: WriteResult) => void;\r\n  /** 失败回调 */\r\n  fail?: (err: SerialError) => void;\r\n  /** 完成回调 */\r\n  complete?: (res: any) => void;\r\n};\r\n\r\n/**\r\n * 写入成功的返回值\r\n */\r\nexport type WriteResult = {\r\n  errMsg: string;\r\n  /** 实际写入的字节数 */\r\n  bytesWritten: number;\r\n};\r\n\r\n/**\r\n * 读数据参数\r\n */\r\nexport type ReadOptions = {\r\n  /** 串口句柄 ID */\r\n  portId: number;\r\n  /** 期望读取的最大字节数，默认 1024 */\r\n  length?: number;\r\n  /** 返回数据格式: 'hex' | 'base64' */\r\n  format?: 'hex' | 'base64';\r\n  /** 超时时间(毫秒)，默认 1000 */\r\n  timeout?: number;\r\n  /** 成功回调 */\r\n  success?: (res: ReadResult) => void;\r\n  /** 失败回调 */\r\n  fail?: (err: SerialError) => void;\r\n  /** 完成回调 */\r\n  complete?: (res: any) => void;\r\n};\r\n\r\n/**\r\n * 读取成功的返回值\r\n */\r\nexport type ReadResult = {\r\n  errMsg: string;\r\n  /** 读取到的数据 (HEX 或 Base64 格式) */\r\n  data: string;\r\n  /** 实际读取的字节数 */\r\n  bytesRead: number;\r\n};\r\n\r\n/**\r\n * 关闭串口参数\r\n */\r\nexport type CloseOptions = {\r\n  /** 串口句柄 ID */\r\n  portId: number;\r\n  /** 成功回调 */\r\n  success?: (res: CloseResult) => void;\r\n  /** 失败回调 */\r\n  fail?: (err: SerialError) => void;\r\n  /** 完成回调 */\r\n  complete?: (res: any) => void;\r\n};\r\n\r\n/**\r\n * 关闭成功的返回值\r\n */\r\nexport type CloseResult = {\r\n  errMsg: string;\r\n};\r\n\r\n/**\r\n * 列举设备参数\r\n */\r\nexport type ListDevicesOptions = {\r\n  /** 设备路径前缀，默认 [\"/dev/ttyS\", \"/dev/ttyUSB\"] */\r\n  prefixes?: string[];\r\n  /** 成功回调 */\r\n  success?: (res: ListDevicesResult) => void;\r\n  /** 失败回调 */\r\n  fail?: (err: SerialError) => void;\r\n  /** 完成回调 */\r\n  complete?: (res: any) => void;\r\n};\r\n\r\n/**\r\n * 列举设备返回值\r\n */\r\nexport type ListDevicesResult = {\r\n  errMsg: string;\r\n  /** 设备路径列表 */\r\n  devices: string[];\r\n};\r\n\r\n// ==================== 错误码定义 ====================\r\n\r\n/**\r\n * 错误码\r\n * - 10001: 打开串口失败\r\n * - 10002: 写入数据失败\r\n * - 10003: 读取数据失败\r\n * - 10004: 关闭串口失败\r\n * - 10005: 串口未打开\r\n * - 10006: 参数错误\r\n * - 10007: 数据格式错误\r\n */\r\nexport type SerialErrorCode = 10001 | 10002 | 10003 | 10004 | 10005 | 10006 | 10007;\r\n\r\n/**\r\n * 错误对象\r\n */\r\nexport interface SerialError extends IUniError {\r\n  errCode: SerialErrorCode;\r\n}\r\n\r\n// ==================== API 方法定义 ====================\r\n\r\n/**\r\n * 打开串口\r\n */\r\nexport type OpenSerial = (options: OpenOptions) => void;\r\n\r\n/**\r\n * 写入数据\r\n */\r\nexport type WriteSerial = (options: WriteOptions) => void;\r\n\r\n/**\r\n * 读取数据\r\n */\r\nexport type ReadSerial = (options: ReadOptions) => void;\r\n\r\n/**\r\n * 关闭串口\r\n */\r\nexport type CloseSerial = (options: CloseOptions) => void;\r\n\r\n/**\r\n * 列举可用设备\r\n */\r\nexport type ListDevices = (options?: ListDevicesOptions) => void;\r\n\r\n/**\r\n * 获取插件版本\r\n */\r\nexport type GetVersion = () => string;\r\n"]}